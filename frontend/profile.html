<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - Kare Healthcare</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/auth.css">
    <style>
        .profile-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 2rem 1rem;
            margin-top: 80px;
        }

        .profile-header {
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-teal));
            border-radius: var(--border-radius);
            padding: 2rem;
            color: white;
            margin-bottom: 2rem;
            text-align: center;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
            font-size: 3rem;
            font-weight: 600;
            border: 4px solid rgba(255, 255, 255, 0.3);
        }

        .profile-name {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .profile-email {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .profile-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .profile-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow);
            border: 1px solid #e5e7eb;
        }

        .card-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--dark-gray);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-icon {
            width: 20px;
            height: 20px;
            fill: var(--primary-blue);
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-label {
            display: block;
            font-weight: 500;
            color: var(--dark-gray);
            margin-bottom: 0.5rem;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-blue), var(--dark-blue));
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 2px 8px rgba(37, 99, 235, 0.2);
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, var(--dark-blue), var(--primary-blue));
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }

        .btn-secondary {
            background: var(--light-gray);
            color: var(--dark-gray);
            border: 1px solid #d1d5db;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
            border-color: #9ca3af;
            transform: translateY(-1px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
            background: var(--light-blue);
            border-radius: 8px;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-blue);
        }

        .stat-label {
            font-size: 0.875rem;
            color: var(--medium-gray);
            margin-top: 0.25rem;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--light-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 500;
            color: var(--dark-gray);
        }

        .activity-time {
            font-size: 0.875rem;
            color: var(--medium-gray);
        }

        .success-message {
            background: #d1fae5;
            color: #065f46;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: none;
        }

        .error-message {
            background: #fee2e2;
            color: #991b1b;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: none;
        }

        @media (max-width: 768px) {
            .profile-content {
                grid-template-columns: 1fr;
            }
            
            .profile-header {
                padding: 1.5rem;
            }
            
            /* Profile avatar responsive styles are now handled in main CSS */
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">Kare</a>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Home</a></li>
                <li><a href="vital.html" class="nav-link">Vitals</a></li>
                <li><a href="chat.html" class="nav-link">Chat</a></li>
                <li><a href="about.html" class="nav-link">About</a></li>
                <!-- Profile dropdown -->
                <li class="profile-dropdown" id="profileDropdown">
                    <button class="profile-btn" onclick="toggleProfileDropdown()">
                        <div class="profile-avatar-small" id="profileAvatarSmall">U</div>
                        <span id="profileName">User</span>
                    </button>
                    <div class="profile-menu">
                        <a href="profile.html">My Profile</a>
                        <a href="vital.html">Vitals</a>
                        <a href="chat.html">My Chats</a>
                        <a href="#" onclick="logout()">Sign Out</a>
                    </div>
                </li>
            </ul>
            <div class="menu-toggle" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <div class="profile-container">
        <!-- Profile Header -->
        <div class="profile-header">
            <div class="profile-avatar" id="profileAvatar">U</div>
            <h1 class="profile-name" id="profileDisplayName">User Name</h1>
            <p class="profile-email" id="profileDisplayEmail">user@example.com</p>
        </div>

        <!-- Profile Content -->
        <div class="profile-content">
            <!-- Personal Information -->
            <div class="profile-card">
                <h2 class="card-title">
                    <svg class="card-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                    Personal Information
                </h2>
                
                <div class="success-message" id="profileSuccess">Profile updated successfully!</div>
                <div class="error-message" id="profileError">Error updating profile. Please try again.</div>
                
                <form id="profileForm">
                    <div class="form-group">
                        <label class="form-label" for="fullName">Full Name</label>
                        <input type="text" id="fullName" class="form-input" placeholder="Enter your full name">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="email">Email Address</label>
                        <input type="email" id="email" class="form-input" placeholder="Enter your email" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="phone">Phone Number</label>
                        <input type="tel" id="phone" class="form-input" placeholder="Enter your phone number">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="dateOfBirth">Date of Birth</label>
                        <input type="date" id="dateOfBirth" class="form-input">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label" for="gender">Gender</label>
                        <select id="gender" class="form-input">
                            <option value="">Select gender</option>
                            <option value="male">Male</option>
                            <option value="female">Female</option>
                            <option value="other">Other</option>
                            <option value="prefer-not-to-say">Prefer not to say</option>
                        </select>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"/>
                        </svg>
                        Save Changes
                    </button>
                </form>
            </div>

            <!-- Health Overview -->
            <div class="profile-card">
                <h2 class="card-title">
                    <svg class="card-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                    </svg>
                    Health Overview
                </h2>
                
                <div class="stats-grid">
                    <div class="stat-item">
                        <div class="stat-number" id="totalCheckups">12</div>
                        <div class="stat-label">Total Checkups</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="vitalRecords">45</div>
                        <div class="stat-label">Vital Records</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number" id="appointments">3</div>
                        <div class="stat-label">Upcoming</div>
                    </div>
                </div>
                
                <div style="margin-top: 1.5rem;">
                    <a href="vital.html" class="btn btn-primary">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M13 7.5h5v2h-5zm0 7h5v2h-5zM19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                        </svg>
                        View Vitals
                    </a>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="profile-card">
                <h2 class="card-title">
                    <svg class="card-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M13,3A9,9 0 0,0 4,12H1L4.89,15.89L4.96,16.03L9,12H6A7,7 0 0,1 13,5A7,7 0 0,1 20,12A7,7 0 0,1 13,19C11.07,19 9.32,18.21 8.06,16.94L6.64,18.36C8.27,20 10.5,21 13,21A9,9 0 0,0 22,12A9,9 0 0,0 13,3Z"/>
                    </svg>
                    Recent Activity
                </h2>
                
                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="var(--primary-blue)">
                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                            </svg>
                        </div>
                        <div class="activity-content">
                            <div class="activity-title">Vital signs recorded</div>
                            <div class="activity-time">2 hours ago</div>
                        </div>
                    </div>
                    
                    <div class="activity-item">
                        <div class="activity-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="var(--success-green)">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                            </svg>
                        </div>
                        <div class="activity-content">
                            <div class="activity-title">Profile updated</div>
                            <div class="activity-time">1 day ago</div>
                        </div>
                    </div>
                    
                    <div class="activity-item">
                        <div class="activity-icon">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="var(--accent-teal)">
                                <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                            </svg>
                        </div>
                        <div class="activity-content">
                            <div class="activity-title">Appointment scheduled</div>
                            <div class="activity-time">3 days ago</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Security Settings -->
            <div class="profile-card">
                <h2 class="card-title">
                    <svg class="card-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11.5C15.4,11.5 16,12.4 16,13V16C16,17.4 15.4,18 14.8,18H9.2C8.6,18 8,17.4 8,16V13C8,12.4 8.6,11.5 9.2,11.5V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.5,8.7 10.5,10V11.5H13.5V10C13.5,8.7 12.8,8.2 12,8.2Z"/>
                    </svg>
                    Security Settings
                </h2>
                
                <div class="form-group">
                    <button type="button" class="btn btn-secondary" onclick="changePassword()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z"/>
                        </svg>
                        Change Password
                    </button>
                </div>
                
                <div class="form-group">
                    <button type="button" class="btn btn-secondary" onclick="logout()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
                        </svg>
                        Sign Out
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer style="background: var(--dark-blue); color: white; padding: 3rem 0 2rem; margin-top: 4rem;">
        <div class="container">
            <div style="
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 2rem;
                margin-bottom: 2rem;
            ">
                <div>
                    <div class="logo" style="color: white; margin-bottom: 1rem; font-size: 1.5rem; font-weight: 700;">
                        Kare
                    </div>
                    <p style="opacity: 0.8">
                        Your trusted AI healthcare companion, providing reliable medical
                        guidance and support 24/7.
                    </p>
                </div>
                <div>
                    <h4 style="margin-bottom: 1rem">Quick Links</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 0.5rem">
                            <a href="index.html" style="color: white; text-decoration: none; opacity: 0.8">Home</a>
                        </li>
                        <li style="margin-bottom: 0.5rem">
                            <a href="profile.html" style="color: white; text-decoration: none; opacity: 0.8">Profile</a>
                        </li>
                        <li style="margin-bottom: 0.5rem">
                            <a href="vital.html" style="color: white; text-decoration: none; opacity: 0.8">Vitals</a>
                        </li>
                        <li style="margin-bottom: 0.5rem">
                            <a href="chat.html" style="color: white; text-decoration: none; opacity: 0.8">Chat</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h4 style="margin-bottom: 1rem">Support</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 0.5rem">
                            <a href="#" style="color: white; text-decoration: none; opacity: 0.8">Help Center</a>
                        </li>
                        <li style="margin-bottom: 0.5rem">
                            <a href="#" style="color: white; text-decoration: none; opacity: 0.8">Privacy Policy</a>
                        </li>
                        <li style="margin-bottom: 0.5rem">
                            <a href="#" style="color: white; text-decoration: none; opacity: 0.8">Terms of Service</a>
                        </li>
                        <li style="margin-bottom: 0.5rem">
                            <a href="#" style="color: white; text-decoration: none; opacity: 0.8">Contact Us</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div style="
                border-top: 1px solid rgba(255, 255, 255, 0.2);
                padding-top: 2rem;
                text-align: center;
                opacity: 0.8;
            ">
                <p>
                    &copy; 2024 Kare. All rights reserved. | Disclaimer: This AI
                    assistant provides general health information and should not replace
                    professional medical advice.
                </p>
            </div>
        </div>
    </footer>

    <script src="assets/js/main.js"></script>
    <script>
        // Profile-specific JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            loadUserProfile();
            
            // Handle profile form submission
            document.getElementById('profileForm').addEventListener('submit', handleProfileUpdate);
        });

        function loadUserProfile() {
            const userData = getFromStorage('user');
            if (!userData) {
                window.location.href = 'login.html';
                return;
            }

            // Update profile display
            document.getElementById('profileDisplayName').textContent = userData.name || 'User Name';
            document.getElementById('profileDisplayEmail').textContent = userData.email;
            
            // Update avatar initials
            const initials = userData.name ? userData.name.split(' ').map(n => n[0]).join('').toUpperCase() : 'U';
            document.getElementById('profileAvatar').textContent = initials;
            document.getElementById('profileAvatarSmall').textContent = initials;
            document.getElementById('profileName').textContent = userData.name || 'User';

            // Populate form fields
            document.getElementById('fullName').value = userData.name || '';
            document.getElementById('email').value = userData.email || '';
            document.getElementById('phone').value = userData.phone || '';
            document.getElementById('dateOfBirth').value = userData.date_of_birth || '';
            document.getElementById('gender').value = userData.gender || '';
            
            // Load real statistics
            loadProfileStats();
        }
        
        async function loadProfileStats() {
            try {
                const token = localStorage.getItem('token');
                const response = await fetch('/api/profile/stats', {
                    method: 'GET',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    }
                });

                if (response.ok) {
                    const data = await response.json();
                    const stats = data.stats;
                    
                    // Update statistics with real data
                    document.getElementById('totalCheckups').textContent = stats.total_checkups || 0;
                    document.getElementById('vitalRecords').textContent = stats.vital_records || 0;
                    document.getElementById('appointments').textContent = stats.medical_conditions || 0;
                    
                    // Update recent activities
                    updateRecentActivities(stats.recent_activities || []);
                } else {
                    console.error('Failed to load profile statistics');
                    // Keep default values if API fails
                }
            } catch (error) {
                console.error('Error loading profile statistics:', error);
                // Keep default values if API fails
            }
        }
        
        function updateRecentActivities(activities) {
            const activityList = document.querySelector('.activity-list');
            if (!activityList || activities.length === 0) return;
            
            // Clear existing activities
            activityList.innerHTML = '';
            
            activities.forEach(activity => {
                const activityItem = document.createElement('div');
                activityItem.className = 'activity-item';
                
                const iconMap = {
                    'vital_signs': `<svg width="20" height="20" viewBox="0 0 24 24" fill="var(--primary-blue)">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                    </svg>`,
                    'conversation': `<svg width="20" height="20" viewBox="0 0 24 24" fill="var(--accent-teal)">
                        <path d="M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4v3c0 .6.4 1 1 1h.5c.2 0 .5-.1.7-.3L14.6 18H20c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/>
                    </svg>`,
                    'default': `<svg width="20" height="20" viewBox="0 0 24 24" fill="var(--success-green)">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>`
                };
                
                const timeAgo = activity.time ? getTimeAgo(activity.time) : 'Recently';
                
                activityItem.innerHTML = `
                    <div class="activity-icon">
                        ${iconMap[activity.type] || iconMap.default}
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">${activity.title}</div>
                        <div class="activity-time">${timeAgo}</div>
                    </div>
                `;
                
                activityList.appendChild(activityItem);
            });
        }
        
        function getTimeAgo(dateString) {
            const now = new Date();
            const date = new Date(dateString);
            const diffInSeconds = Math.floor((now - date) / 1000);
            
            if (diffInSeconds < 60) return 'Just now';
            if (diffInSeconds < 3600) return `${Math.floor(diffInSeconds / 60)} minutes ago`;
            if (diffInSeconds < 86400) return `${Math.floor(diffInSeconds / 3600)} hours ago`;
            if (diffInSeconds < 2592000) return `${Math.floor(diffInSeconds / 86400)} days ago`;
            return `${Math.floor(diffInSeconds / 2592000)} months ago`;
        }

        async function handleProfileUpdate(e) {
            e.preventDefault();
            
            const formData = {
                name: document.getElementById('fullName').value,
                phone: document.getElementById('phone').value,
                date_of_birth: document.getElementById('dateOfBirth').value,
                gender: document.getElementById('gender').value
            };

            try {
                const token = localStorage.getItem('token');
                const response = await fetch('/api/profile', {
                    method: 'PUT',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify(formData)
                });

                if (response.ok) {
                    const updatedUser = await response.json();
                    
                    // Update stored user data
                    saveToStorage('user', updatedUser.user);
                    
                    // Update display
                    loadUserProfile();
                    
                    // Show success message
                    showMessage('profileSuccess', 'Profile updated successfully!');
                } else {
                    const errorData = await response.json();
                    throw new Error(errorData.error || 'Failed to update profile');
                }
            } catch (error) {
                console.error('Profile update error:', error);
                showMessage('profileError', error.message || 'Error updating profile. Please try again.');
            }
        }

        function showMessage(elementId, message) {
            const element = document.getElementById(elementId);
            if (element) {
                element.textContent = message;
                element.style.display = 'block';
                
                setTimeout(() => {
                    element.style.display = 'none';
                }, 5000);
            }
        }

        function changePassword() {
            const newPassword = prompt('Enter your new password:');
            if (newPassword && newPassword.length >= 6) {
                // In a real app, this would make an API call
                alert('Password changed successfully!');
            } else if (newPassword) {
                alert('Password must be at least 6 characters long.');
            }
        }
    </script>
</body>
</html>